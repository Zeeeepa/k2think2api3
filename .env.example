# K2Think API 代理服务环境变量配置文件
# 复制此文件为 .env 并根据实际情况修改配置值
# 思考内容输出控制: MBZUAI-IFM/K2-Think(显示思考) / MBZUAI-IFM/K2-Think-nothink(不显示思考)

# API认证配置
# 设置为true可接受任何API密钥（推荐用于本地开发/测试）
ALLOW_ANY_API_KEY=true
VALID_API_KEY=sk-k2think # 客户端访问API时使用的密钥
# K2THINK_TOKEN=your_k2think_jwt_token_here # 从K2Think官网获取的JWT Token

# 服务器配置
HOST=0.0.0.0 # 监听地址，0.0.0.0为所有接口，127.0.0.1为仅本地
# 运行时可通过SERVER_PORT环境变量覆盖
PORT=8001 # 服务监听端口

# 上游API配置
K2THINK_API_URL=https://www.k2think.ai/api/chat/completions # K2Think API完整URL

# 工具调用配置
TOOL_SUPPORT=true # 是否启用工具调用功能

# Token管理配置
# Token文件路径（每行一个token）
TOKENS_FILE=data/tokens.txt

# Token最大失败次数（超过后将被标记为失效）
MAX_TOKEN_FAILURES=3

# Token自动更新配置
ENABLE_TOKEN_AUTO_UPDATE=false # 是否启用token自动更新
TOKEN_UPDATE_INTERVAL=3600 # token更新间隔（秒），默认1小时
ACCOUNTS_FILE=data/accounts.txt # 账户文件路径
GET_TOKENS_SCRIPT=get_tokens.py # token获取脚本路径

# 代理配置（用于get_tokens.py）
# PROXY_URL=http://username:password@proxy_host:proxy_port # HTTP/HTTPS代理地址，留空则不使用代理
PROXY_URL="" # 示例: http://admin:sk-123456@192.168.10.100:8282

# 调试配置
LOG_LEVEL=INFO # 调试日志级别: DEBUG/INFO/WARNING/ERROR
DEBUG_LOGGING=false # 是否启用详细请求日志

# 高级配置
REQUEST_TIMEOUT=60 # HTTP请求超时时间(秒)
MAX_KEEPALIVE_CONNECTIONS=20 # 最大保持连接数
MAX_CONNECTIONS=100 # 最大连接数

# 性能配置
STREAM_DELAY=0.05 # 流式响应模拟延迟(秒)
STREAM_CHUNK_SIZE=50 # 流式响应块大小(字符数)
MAX_STREAM_TIME=6 # 流式响应块最大用时(秒)

# 部署配置
APP_ENV=development # 应用环境: development/production/testing
ENABLE_ACCESS_LOG=true # 是否启用访问日志
CORS_ORIGINS=* # CORS允许的源

# 使用说明:
# 1. 必须配置: VALID_API_KEY, TOKENS_FILE (tokens.txt文件，每行一个token)
# 2. 推荐配置: HOST, PORT
# 3. 可选配置: TOOL_SUPPORT, DEBUG_LOGGING
# 4. Token自动更新: 设置ENABLE_TOKEN_AUTO_UPDATE=true并提供accounts.txt文件
